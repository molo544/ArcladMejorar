import{c as k}from"./chunk-ZPVBWA5L.js";import{h as b,k as S}from"./chunk-QIU3E5ZX.js";import{Gb as d,Hb as i,Ib as r,Jb as p,Qb as y,Sb as s,Ua as u,Ub as m,Xa as h,Ya as o,ba as f,ec as c,gc as C,ha as O,hc as _,ia as P,ja as M,jb as v,ka as w,ob as x}from"./chunk-32OYX7MF.js";function E(g,t){if(g&1){let e=y();i(0,"div",9),s("click",function(a){let l=O(e).$implicit,D=m();return P(D.onLanguageChange(a,l.name))}),p(1,"img",2),i(2,"span",10),C(3),r()()}if(g&2){let e=t.$implicit,n=m();c("selected",n.selectedCountry===e.name),o(),d("src",n.getFlagUrl(e.name),u)("alt",e.name)("title",e.name),o(2),_(e.name)}}var L=class g{i18nService=f(k);selectedCountry="Colombia";isDropdownOpen=!1;STORAGE_KEY="selected-country";languages=[{code:"pt",name:"Brasil",countryCode:"BR"},{code:"es",name:"Colombia",countryCode:"CO"},{code:"es",name:"M\xE9xico",countryCode:"MX"},{code:"es",name:"Per\xFA",countryCode:"PE"}];ngOnInit(){this.initializeCountrySelection()}initializeCountrySelection(){let t=localStorage.getItem(this.STORAGE_KEY);if(t&&this.languages.find(e=>e.name===t))this.selectedCountry=t;else{let e=this.i18nService.currentLanguage(),n=this.getCountryForLanguage(e);this.selectedCountry=n,localStorage.setItem(this.STORAGE_KEY,this.selectedCountry)}}getCountryForLanguage(t){return t==="pt"?"Brasil":"Colombia"}toggleDropdown(t){t&&t.stopPropagation(),this.isDropdownOpen=!this.isDropdownOpen}closeDropdown(){this.isDropdownOpen=!1}onLanguageChange(t,e){t.stopPropagation();let n=this.languages.find(a=>a.name===e);n&&(this.selectedCountry=e,localStorage.setItem(this.STORAGE_KEY,e),this.i18nService.setLanguage(n.code),this.closeDropdown())}onDocumentClick(t){!t.target.closest(".language-selector")&&this.isDropdownOpen&&this.closeDropdown()}getLanguageName(t){let e=this.languages.find(n=>n.name===t);return e?e.name:t}getFlagUrl(t){let e=this.languages.find(n=>n.name===t);return e?`assets/flags/${e.countryCode}.svg`:""}getCountryCode(t){let e=this.languages.find(n=>n.name===t);return e?e.countryCode:t.substring(0,2).toUpperCase()}static \u0275fac=function(e){return new(e||g)};static \u0275cmp=v({type:g,selectors:[["app-language-selector"]],hostBindings:function(e,n){e&1&&s("click",function(l){return n.onDocumentClick(l)},h)},decls:10,vars:11,consts:[[1,"language-selector",3,"click"],[1,"selected-language"],[1,"flag-icon",3,"src","alt","title"],[1,"language-code"],["width","12","height","8","viewBox","0 0 12 8","fill","none",1,"arrow"],["d","M1 1.5L6 6.5L11 1.5","stroke","currentColor","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"dropdown-menu"],["class","dropdown-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"dropdown-overlay",3,"click"],[1,"dropdown-item",3,"click"],[1,"country-name"]],template:function(e,n){e&1&&(i(0,"div",0),s("click",function(l){return n.toggleDropdown(l)}),i(1,"div",1),p(2,"img",2),i(3,"span",3),C(4),r(),M(),i(5,"svg",4),p(6,"path",5),r()(),w(),i(7,"div",6),x(8,E,4,6,"div",7),r()(),i(9,"div",8),s("click",function(){return n.closeDropdown()}),r()),e&2&&(o(2),d("src",n.getFlagUrl(n.selectedCountry),u)("alt",n.getLanguageName(n.selectedCountry))("title",n.getLanguageName(n.selectedCountry)),o(2),_(n.getLanguageName(n.selectedCountry)),o(),c("open",n.isDropdownOpen),o(2),c("show",n.isDropdownOpen),o(),d("ngForOf",n.languages),o(),c("show",n.isDropdownOpen))},dependencies:[S,b],styles:[".language-selector[_ngcontent-%COMP%]{position:relative;min-width:110px;height:48px;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}.language-selector[_ngcontent-%COMP%]   .selected-language[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;height:48px;padding:0 12px;border-radius:4px;transition:background-color .2s ease}.language-selector[_ngcontent-%COMP%]   .selected-language[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.language-selector[_ngcontent-%COMP%]   .selected-language[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{width:20px;height:15px;border-radius:2px;flex-shrink:0;box-shadow:0 1px 2px #0000001a;border:1px solid rgba(0,0,0,.1);object-fit:cover;display:block}.language-selector[_ngcontent-%COMP%]   .selected-language[_ngcontent-%COMP%]   .language-code[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#1f2937;white-space:nowrap}.language-selector[_ngcontent-%COMP%]   .selected-language[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{color:#6b7280;transition:transform .2s ease;margin-left:4px;flex-shrink:0}.language-selector[_ngcontent-%COMP%]   .selected-language[_ngcontent-%COMP%]   .arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.language-selector[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;z-index:1000;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .2s ease;min-width:160px;width:160px}.language-selector[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.language-selector[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 20px;cursor:pointer;transition:background-color .2s ease;border-bottom:1px solid #f3f4f6}.language-selector[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.language-selector[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.language-selector[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.selected[_ngcontent-%COMP%]{background-color:#d1fae5;font-weight:600}.language-selector[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.selected[_ngcontent-%COMP%]   .country-name[_ngcontent-%COMP%]{color:#17cf54}.language-selector[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .flag-icon[_ngcontent-%COMP%]{width:20px;height:15px;border-radius:2px;flex-shrink:0;box-shadow:0 1px 2px #0000001a;border:1px solid rgba(0,0,0,.1);object-fit:cover;display:block}.language-selector[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .country-name[_ngcontent-%COMP%]{flex:1;font-size:.95rem;color:#374151}.dropdown-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:999;opacity:0;visibility:hidden;transition:all .2s ease}.dropdown-overlay.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}@media screen and (max-width: 768px){.language-selector[_ngcontent-%COMP%]   .selected-language[_ngcontent-%COMP%]{padding:0 6px}.language-selector[_ngcontent-%COMP%]   .selected-language[_ngcontent-%COMP%]   .language-code[_ngcontent-%COMP%]{font-size:.95rem;color:#fff}.language-selector[_ngcontent-%COMP%]   .selected-language[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{color:#fff}.language-selector[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:120px}.language-selector[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:10px 14px}.language-selector[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .country-name[_ngcontent-%COMP%]{font-size:.9rem}}"]})};export{L as a};
